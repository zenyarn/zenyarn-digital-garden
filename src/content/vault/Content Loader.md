# Astro Loader for Obsidian Vaults ü™êüîó

**astro-loader-obsidian** is a content loader for [Astro](https://astro.build/) that lets you treat your [Obsidian](https://obsidian.md/) vault as a native content collection. Easily integrate your markdown notes, assets, and internal links into your Astro site with minimal setup.

## ‚ú® Features

- üìÅ **Load entire Obsidian vaults** as Astro content collections.
- üîó **Resolves Obsidian-style links** into proper Astro/HTML links.
- üñºÔ∏è **Image path resolution** for local media files (including support for image embeds).
- üìù **Reads frontmatter** from your notes and exposes publishing metadata (like `published`, `tags`, `date`, etc).
- ‚ö° **Supports Astro's Content Collections API**, including types and schema validation.
- üí° Lightweight and fast ‚Äî ideal for digital gardens, knowledge bases, blogs, and more.

## üöÄ Use Cases

- Personal knowledge bases
- Digital gardens
- Developer blogs
- Collaborative wikis

## üß∞ Need a Full Theme?

Check out [astro-theme-spaceship](https://github.com/aitorllj93/astro-theme-spaceship) ‚Äî a ready-to-use theme built specifically for publishing Obsidian vaults with Astro. It includes:

- Preconfigured `astro-obsidian-loader` integration
- Clean, responsive layout
- Built-in support for tags, backlinks, and note metadata
- Dark mode, tree view, and more

## üì¶ Installation

```sh
npm install astro-loader-obsidian
```

## üîß Usage

1. **Setup your Astro config** to include the loader:

```ts
// content.config.mjs
import { ObsidianDocumentSchema, ObsidianMdLoader } from "astro-loader-obsidian";
import { defineCollection } from 'astro:content';

export const collections = {
	documents: defineCollection({
		loader: ObsidianMdLoader({
			base: 'src/content/vault',
			url: 'docs',
		}),
		schema: ({ image }) => ObsidianDocumentSchema.extend({
      image: image().optional(),
      // or
      cover: image().optional(),
    }),
	}),
};

```

2. **Use your documents as content** in Astro components or pages:

```ts
import { getCollection } from 'astro:content';

const documents = await getCollection('documents');
```

3. **Linking between notes** works automatically:

```astro
<a href={document.data.permalink}>Read: {note.data.title}</a>
```

## üß† Frontmatter Support

Astro Loader respects frontmatter metadata in your Obsidian notes. You can use:

```yaml
---
title: "My Note"
date: 2025-04-06
tags: [astro, obsidian]
published: true
---
```

These fields will be accessible via the `data` object in your content collections.

## üìÅ Directory Structure

Example vault structure:

```
vault/
‚îú‚îÄ‚îÄ My Note.md
‚îú‚îÄ‚îÄ My Other Note.md
‚îú‚îÄ‚îÄ images/
‚îÇ   ‚îî‚îÄ‚îÄ image.png
```

Will be available in Astro as:

```
/docs/my-note
/docs/my-other-note
/images/image.png
```

## üß™ Type Safety

You can extend the schema for your frontmatter using Zod‚Äôs `extend` features:

```ts
// content.config.mjs
import { defineCollection, z } from 'astro:content';

export const collections = {
	documents: defineCollection({
		loader: ObsidianMdLoader({
			base: 'src/content/vault',
			url: 'docs',
		}),
		schema: ({ image }) => ObsidianDocumentSchema.extend({
      image: image().optional(),
      // or
      cover: image().optional(),
      myCustomProperty: z.string().optional(),
    }),
	}),
};
```

## üõ†Ô∏è Configuration Options

| Option          | Type      | Description                                             |
|-----------------|-----------|---------------------------------------------------------|
| `pattern`  | `string`  | Glob pattern to match files. Defaults to `**/*.md` |
| `assetsPattern`  | `string`  | Glob pattern to match assets. Defaults to `**/*.{svg,png,jpg,jpeg,avif,webp,gif,tiff,ico}` |
| `base`     | `string`  | Base directory to resolve the glob pattern from. Relative to the root directory, or an absolute file URL. Defaults to `.`                     |
| `url`    | `string`  | Base URL where this content should be served. Defaults to collection name. Used for autogenerated permalink                |
| `i18n`  | `boolean` | Enables i18n routing     |
| `author`    | `string`  | Default author                |

## üôå Contributing

Contributions welcome! Feel free to open issues or PRs for bugs, features, or docs improvements.

## üìÑ License

MIT License ¬© aitorllj93

---

Built with ‚òÑÔ∏è [Astro](https://astro.build) and üß† [Obsidian](https://obsidian.md)